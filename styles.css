.otd-handle{position:absolute;top:0;right:-3px;width:6px;height:100%;cursor:col-resize;background:transparent;z-index:50;}
/* New column handle appended to table (full height) */
.otd-chandle{position:absolute;top:0;width:6px;height:100%;cursor:col-resize;background:transparent;z-index:60;}
/* Outer width handle (outside the right edge) */
.otd-ohandle{position:absolute;top:0;right:-2px;width:10px;height:100%;cursor:col-resize;background:transparent;z-index:65;}
.otd-handle:hover,.otd-chandle:hover,.otd-ohandle:hover{background:var(--background-modifier-hover);} 
.otd-handle:focus,.otd-chandle:focus,.otd-ohandle:focus{outline:1px solid var(--interactive-accent);background:var(--background-modifier-hover);}
.otd-handle:active{background:var(--interactive-accent);opacity:0.5;}
/* Make cells positioning context only when needed; we now stretch handles to table height via JS */
.otd-th{position:relative;}
/* Optional: thicker hit area on touch */
@media (pointer:coarse){.otd-handle{width:10px;right:-5px;}}

/* Wrapping support for long text/URLs when enabled */
table.otd-wrap td, table.otd-wrap th{
  white-space: normal !important;
  overflow-wrap: anywhere; /* allows breaking long unspaced strings */
  word-break: break-word;  /* compatible fallback */
  hyphens: auto;
}
/* Ensure nested editing wrappers in Live Preview also wrap */
table.otd-wrap td *, table.otd-wrap th *{
  white-space: normal !important;
  overflow-wrap: anywhere;
  word-break: break-word;
  max-width: 100%;
}
/* Avoid inner scrollbars inside cells */
table.otd-managed td, table.otd-managed th{ overflow: visible; }

/* Stabilize layout during LP mutations */
table.otd-managed{ table-layout: fixed; position: relative; }
/* Parked (offscreen) tables disable handle hit-testing */
table.otd-inactive .otd-chandle, table.otd-inactive .otd-rhandle, table.otd-inactive .otd-ohandle{ pointer-events: none; }

/* Breakout wrapper: expands to pane width and provides horizontal scroll when table exceeds pane */
.otd-breakout-wrap{ position: relative; display: flex; justify-content: center; overflow-x: visible; overflow-y: visible; }
/* We set margins and width inline for precision; these are fallbacks */
.otd-breakout-wrap{ max-width: 100%; }
/* When wrapping a CM6 table widget, prevent its own scrollbars and width limits, and allow it to shrink-to-content */
.otd-breakout-wrap > .cm-table-widget{ overflow: visible !important; max-width: none !important; width: max-content !important; }
/* Live Preview (no wrapper): allow the widget to sit above margins and center */
.cm-table-widget.otd-breakout-cm{ display: flex; justify-content: center; overflow-y: visible; position: relative; z-index: 1; max-width: none; will-change: transform; }
.cm-table-widget.otd-breakout-cm > *{ flex: 0 0 auto; }
/* Reading view: center the table and allow shrink-to-content */
.otd-breakout-wrap > table{ margin-left: auto; margin-right: auto; width: max-content; }
/* Ensure handles render above the wrapper overflow */
table.otd-managed .otd-chandle, table.otd-managed .otd-ohandle, table.otd-managed .otd-rhandle{ z-index: 70; }

/* Prevent global horizontal scrollbar in Live Preview; breakouts scroll inside themselves */
.cm-scroller{ overflow-x: hidden !important; }

/* Row resize handle */
.otd-rhandle{position:absolute;left:0;width:100%;height:6px;cursor:row-resize;background:transparent;z-index:60;}
.otd-rhandle:hover{background:var(--background-modifier-hover);} 
.otd-rhandle:focus{outline:1px solid var(--interactive-accent);background:var(--background-modifier-hover);}
